# Changelog - 2025.11.10

## [Initial Release] - 2025.11.10 07:41:13

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚ú® –°–æ–∑–¥–∞–Ω Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–¥–∞—á–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π AmneziaWG
- ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ú® –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ asyncio
- ‚ú® SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π WireGuard –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚ú® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º AmneziaWG
- ‚ú® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–µ—Ö —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
  - üì± –¢–µ–ª–µ—Ñ–æ–Ω (phone)
  - üíª –ù–æ—É—Ç–±—É–∫ (laptop)
  - üåê –†–æ—É—Ç–µ—Ä (router)
- ‚ú® –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ .env
- ‚ú® –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
  - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - üë• –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚ú® –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å
- ‚ú® –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ IP –∞–¥—Ä–µ—Å–∞
- ‚ú® –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ñ–∏–≥)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- Python 3.12.3
- python-telegram-bot 22.5 (async)
- aiosqlite 0.20.0
- aiofiles 24.1.0
- python-dotenv 1.0.1

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
/opt/AmneziaBot/
‚îú‚îÄ‚îÄ main.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example                 # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ src/                         # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ config/                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database/                # –ë–î (models, repository)
‚îÇ   ‚îú‚îÄ‚îÄ services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (awg_manager, config_generator)
‚îÇ   ‚îú‚îÄ‚îÄ bot/                     # Telegram –±–æ—Ç (handlers, keyboards, filters)
‚îÇ   ‚îî‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã (logger, decorators)
‚îú‚îÄ‚îÄ data/                        # –î–∞–Ω–Ω—ã–µ (–ë–î, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏)
‚îú‚îÄ‚îÄ logs/                        # –õ–æ–≥–∏
‚îî‚îÄ‚îÄ changelogs/                  # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–°–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (telegram_id, username, first_name, last_name, created_at)
- `configs` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (user_id, device_type, client_public_key, client_private_key, client_ip, config_name, created_at)
- `requests` - –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (user_id, device_type, action, timestamp)

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `/start` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)
- `/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
–î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- üì± –î–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- üíª –î–ª—è –Ω–æ—É—Ç–±—É–∫–∞
- üåê –î–ª—è —Ä–æ—É—Ç–µ—Ä–∞

–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ):
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–ø–∏—Å–æ–∫ Telegram ID –≤ .env
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –î–æ–±–∞–≤–ª–µ–Ω .env.example —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–Ω .gitignore –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## [Bug Fixes] - 2025.11.10 11:08:26

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `RuntimeError: threads can only be started once` –≤ —Ä–∞–±–æ—Ç–µ —Å aiosqlite
  - –ò–∑–º–µ–Ω–µ–Ω —Å–ø–æ—Å–æ–± –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  - –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `aiosqlite` –≤ repository.py

- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∫–æ–º–∞–Ω–¥—ã `docker` –≤ systemd —Å–µ—Ä–≤–∏—Å–µ
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π PATH –≤ systemd unit —Ñ–∞–π–ª
  - –¢–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç `/usr/bin` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ docker
  - –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

- üêõ –î–æ–ø–æ–ª–Ω–µ–Ω .env —Ñ–∞–π–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ AmneziaWG
  - –î–æ–±–∞–≤–ª–µ–Ω—ã SERVER_ENDPOINT, SERVER_PUBLIC_KEY, PRESHARED_KEY
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏ –∏ AmneziaWG (Jc, Jmin, Jmax, S1, S2, H1-H4)
  - –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìù –û–±–Ω–æ–≤–ª–µ–Ω systemd —Å–µ—Ä–≤–∏—Å —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º PATH
- üìù –£–ª—É—á—à–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- üìù –í—Å–µ –º–µ—Ç–æ–¥—ã Repository —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ aiosqlite.connect()

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ systemd
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º AmneziaWG
- ‚úÖ –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## [Feature] - 2025.11.10 11:14:26

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä" –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - –î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –≤ –∞–¥–º–∏–Ω—Å–∫–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
  - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π —Å 5-—Å–µ–∫—É–Ω–¥–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã `shutdown -r now`
  - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

- ‚ú® –í–∫–ª—é—á–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
  - –°–µ—Ä–≤–∏—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ multi-user.target.wants
  - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Ubuntu
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: `systemctl is-enabled amneziabot` ‚Üí enabled

- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/reboot` –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
  - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É
  - –¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìù –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π
- üìù –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ main.py
- üìù –ò–º–ø–æ—Ä—Ç asyncio –≤ admin.py –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üîí –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ @admin_only)
- üîí –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ 5 —Å–µ–∫—É–Ω–¥ –¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- üîí –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

---

## [Refactoring + Security] - 2025.11.10 12:21:37

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üèóÔ∏è –ü–µ—Ä–µ–º–µ—â–µ–Ω—ã —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
  - `cleanup_configs.py` ‚Üí `src/tools/cleanup_configs.py`
  - `sync_peers.py` ‚Üí `src/tools/sync_peers.py`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
  - –û–±–Ω–æ–≤–ª–µ–Ω systemd —Å–µ—Ä–≤–∏—Å `amneziabot-sync.service` —Å –Ω–æ–≤—ã–º –ø—É—Ç–µ–º
  
- üîí **–ö–†–ò–¢–ò–ß–ù–û**: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
  - –¢–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ "üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä" –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è inline –∫–Ω–æ–ø–∫–∏: "‚úÖ –î–∞, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å" –∏ "‚ùå –û—Ç–º–µ–Ω–∞"
  - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
  - –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π —Å–æ–∫—Ä–∞—â–µ–Ω–∞ —Å 5 –¥–æ 3 —Å–µ–∫—É–Ω–¥ (–ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
  
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚ú® Callback query handlers –¥–ª—è inline –∫–Ω–æ–ø–æ–∫
  - `handle_reboot_confirm` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
  - `handle_reboot_cancel` - –æ—Ç–º–µ–Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∞
  
- üìÅ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `src/tools/` –¥–ª—è —É—Ç–∏–ª–∏—Ç –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: bot, services, database, tools, utils
  - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞
  
- üìö –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏" –≤ README
  - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–ë–∞–∑–∞ ‚Üí –°–∫—Ä–∏–ø—Ç ‚Üí –°–µ—Ä–≤–µ—Ä)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é cleanup_configs.py
  - –ü–æ—á–µ–º—É –∫–æ–Ω—Ñ–∏–≥–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏ –∫–∞–∫ –∏—Ö —É–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
  
### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìù –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ README (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ `src/tools/`)
- üìù –û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –∞–¥–º–∏–Ω–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏)
- üìù –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üóëÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞–º–∏" –≤ –∞–¥–º–∏–Ω –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É (handler –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
  
### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –û–±–∞ systemd —Å–µ—Ä–≤–∏—Å–∞ (amneziabot –∏ amneziabot-sync) —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ –Ω–æ–≤—ã—Ö –ø—É—Ç–µ–π
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û—Ç–º–µ–Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üîí –ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- üîí –î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ inline)
- üîí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ (–∑–∞–ø—Ä–æ—Å, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –æ—Ç–º–µ–Ω–∞)

---

## [Feature] - 2025.11.10 12:27:55

### –ü—Ä–æ–±–ª–µ–º–∞
- –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ö–æ–Ω—Ñ–∏–≥–æ–≤: 0" —É –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ AmneziaVPN –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –±–∞–∑–æ–π –±–æ—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–æ–º AmneziaWG
- ClientsTable —Å–æ–¥–µ—Ä–∂–∏—Ç "–º–µ—Ä—Ç–≤—ã–µ" –∑–∞–ø–∏—Å–∏ (—É–¥–∞–ª–µ–Ω–Ω—ã–µ peer'—ã)
- –ö–æ–Ω—Ñ–∏–≥–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN, –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –±–∞–∑—É –±–æ—Ç–∞

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚ú® –°–æ–∑–¥–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `src/tools/sync_database.py` –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
  * `--status` - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–±–∞–∑–∞, —Å–µ—Ä–≤–µ—Ä, clientsTable)
  * `--cleanup` - –æ—á–∏—Å—Ç–∏—Ç—å clientsTable –æ—Ç "–º–µ—Ä—Ç–≤—ã—Ö" –∑–∞–ø–∏—Å–µ–π
  * `--import` - –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å peer'—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ –±–∞–∑—É –±–æ—Ç–∞
  * `--full-sync` - –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (cleanup + import)
  
- üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
  * –†–µ–∞–ª—å–Ω—ã–µ peer'—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ WireGuard
  * –ó–∞–ø–∏—Å–∏ –≤ clientsTable (–∂–∏–≤—ã–µ vs –º–µ—Ä—Ç–≤—ã–µ)
  * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –±–æ—Ç–∞
  * –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –û—á–∏—â–µ–Ω—ã 4 "–º–µ—Ä—Ç–≤—ã—Ö" –∑–∞–ø–∏—Å–∏ –∏–∑ clientsTable:
  * sabirik25_phone, LevonOsipov_phone (–¥—É–±–ª–∏–∫–∞—Ç), EssiHardy_phone, dafunny_phone
  * –≠—Ç–∏ –∑–∞–ø–∏—Å–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–æ peer'–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ –±—ã–ª–æ
  
- üîÑ –¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
  * –ë—ã–ª–æ: 6 –∫–ª–∏–µ–Ω—Ç–æ–≤ (2 —Ä–µ–∞–ª—å–Ω—ã—Ö + 4 –ø—Ä–∏–∑—Ä–∞–∫–∞)
  * –°—Ç–∞–ª–æ: 2 –∫–ª–∏–µ–Ω—Ç–∞ (Admin + LevonOsipov_phone)
  
### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìù –û–±–Ω–æ–≤–ª–µ–Ω README —Å —Ä–∞–∑–¥–µ–ª–æ–º "–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"
- üìù –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é sync_database.py
- üìù –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "–ø—Ä–∏–∑—Ä–∞–∫–æ–≤" –≤ clientsTable

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (sync_peers.py):**
```
–ë–∞–∑–∞ –±–æ—Ç–∞ ‚Üí –°–µ—Ä–≤–µ—Ä WireGuard
(–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)
```

**–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (sync_database.py):**
```
–ë–∞–∑–∞ –±–æ—Ç–∞ ‚Üê‚Üí –°–µ—Ä–≤–µ—Ä WireGuard ‚Üê‚Üí ClientsTable
(–ø–æ –∑–∞–ø—Ä–æ—Å—É)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
python3 src/tools/sync_database.py --status

# –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python3 src/tools/sync_database.py --full-sync
```

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –º–µ—Ä—Ç–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑ clientsTable
- ‚úÖ –ò–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö peer'–æ–≤ –≤ –±–∞–∑—É –±–æ—Ç–∞
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

---

## [Feature] - 2025.11.10 12:38:27

### –ü—Ä–æ–±–ª–µ–º–∞
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN –æ–Ω –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥
- –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –Ω–∞–≤—Å–µ–≥–¥–∞ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–Ω—É–∂–¥–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cleanup_configs.py –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –∏ —Å–ª—É—á–∞–π–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

### –†–µ—à–µ–Ω–∏–µ
- ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **—É–º–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –≤ `sync_peers.py`
- üß† –¢–µ–ø–µ—Ä—å —Ä–∞–∑–ª–∏—á–∞–µ—Ç –¥–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è:

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞–º–µ—Ä–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)**
```
Peer –ù–ï–¢ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ + –ù–ï–¢ –≤ clientsTable
  ‚Üí –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN
  ‚Üí –î–µ–π—Å—Ç–≤–∏–µ: –£–¥–∞–ª–∏—Ç—å –∏–∑ –±–∞–∑—ã –±–æ—Ç–∞
  ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–ï –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è ‚úÖ
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–ª—É—á–∞–π–Ω—ã–π —Å–±–æ–π (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥–∞)**
```
Peer –ù–ï–¢ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ + –ï–°–¢–¨ –≤ clientsTable
  ‚Üí –°–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
  ‚Üí –î–µ–π—Å—Ç–≤–∏–µ: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: Peer –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ
```

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üß† –§—É–Ω–∫—Ü–∏—è `get_clients_table()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ clientsTable
- üóëÔ∏è –§—É–Ω–∫—Ü–∏—è `delete_config_from_db()` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã
- üîÑ –§—É–Ω–∫—Ü–∏—è `smart_sync()` —Å —É–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
- üìä –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìù –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `sync_all()` ‚Üí `smart_sync()`
- üìù –û–±–Ω–æ–≤–ª–µ–Ω—ã –ª–æ–≥–∏ —Å emoji –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- üìù –û–±–Ω–æ–≤–ª–µ–Ω README —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –¥–≤—É—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- üîÑ –°–µ—Ä–≤–∏—Å `amneziabot-sync` –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
**–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AmneziaVPN
2. –£–¥–∞–ª–∏—Ç–µ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
3. –ß–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç –µ–≥–æ –∏–∑ —Å–≤–æ–µ–π –±–∞–∑—ã
4. –ö–æ–Ω—Ñ–∏–≥ –±–æ–ª—å—à–µ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ‚úÖ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ cleanup_configs.py:**
```bash
python3 src/tools/cleanup_configs.py --delete CONFIG_ID
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –£–¥–æ–±–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—ã—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–±–æ–µ–≤ (–∞–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –±–æ—Ç–∞
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ peer'–∞
on_server = public_key in current_peers
in_clients_table = public_key in clients_table

if not on_server and not in_clients_table:
    # –ù–∞–º–µ—Ä–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ ‚Üí —É–¥–∞–ª–∏—Ç—å –∏–∑ –±–∞–∑—ã
    await delete_config_from_db(config_id)
elif not on_server and in_clients_table:
    # –°–ª—É—á–∞–π–Ω—ã–π —Å–±–æ–π ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
    await restore_peer(config)
```

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ clientsTable —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —É–¥–∞–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## [Feature] - 2025.11.10 12:43:28

### –ü—Ä–æ–±–ª–µ–º–∞
- –ë–∞–∑–∞ –∑–∞—Ö–ª–∞–º–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–ø–∏—Å–∏ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –∏ —É—Å–ª–æ–∂–Ω—è—é—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—É—Å—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ—Å–ø–æ–ª–µ–∑–Ω–∞

### –†–µ—à–µ–Ω–∏–µ
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üßπ –§—É–Ω–∫—Ü–∏—è `cleanup_empty_users()` –≤ `sync_peers.py`
- üîÑ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üóëÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- üìä –£–¥–∞–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—É—Å—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –≤ –∏—Ç–æ–≥–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
```
1. –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –±–∞–∑—ã
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–∏–≥–æ–≤
3. –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤ = 0:
   ‚Üí –£–¥–∞–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ (requests)
   ‚Üí –£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (users)
   ‚Üí –õ–æ–≥–∏—Ä—É–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
```
üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥–æ–≤:
   ‚Ä¢ sabirik25
   ‚Ä¢ EssiHardy
   ‚Ä¢ dafunny
   ‚Ä¢ leonard_osipov
   ‚Ä¢ LevonOsipov
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
1Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ
2Ô∏è‚É£ –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
3Ô∏è‚É£ –£–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –∫–æ–Ω—Ñ–∏–≥ —É–¥–∞–ª–µ–Ω
4Ô∏è‚É£ –ß–µ—Ä–µ–∑ 30 —Å–µ–∫ ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω –∏–∑ –±–∞–∑—ã
5Ô∏è‚É£ –ë–∞–∑–∞ —á–∏—Å—Ç–∞—è ‚úÖ
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ë–∞–∑–∞ –≤—Å–µ–≥–¥–∞ —á–∏—Å—Ç–∞—è –æ—Ç –º—É—Å–æ—Ä–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìù –û–±–Ω–æ–≤–ª–µ–Ω README —Å —Ä–∞–∑–¥–µ–ª–æ–º "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã"
- üìä –†–∞—Å—à–∏—Ä–µ–Ω –∏—Ç–æ–≥–æ–≤—ã–π –ª–æ–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- üîÑ –°–µ—Ä–≤–∏—Å amneziabot-sync –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –ª–æ–≥–∞—Ö
```
üìä –ò—Ç–æ–≥–æ: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ 0, —É–¥–∞–ª–µ–Ω–æ –∫–æ–Ω—Ñ–∏–≥–æ–≤ 0, —É–¥–∞–ª–µ–Ω–æ –ø—É—Å—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 5
```

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—á–∏—â–∞–µ—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ
- ‚úÖ –ë–∞–∑–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Å—Ç–∞—è –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

